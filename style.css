/* =====================
   いぐお喫茶  Clean CSS
   ===================== */

/* ===== Variables ===== */
:root{
  /* Theme */
  --base-black:#121212;
  --panel:#1c1c1c;
  --ink-light:#f2ede7;
  --accent:#bfa27a; /* 渋い金茶 */

  /* Layout */
  --maxw:1080px;
  --hero-maxw:1080px;
  --radius:16px;

  /* Fonts */
  --font-display:'Yuji Syuku',serif;
  --font-sans:'Noto Sans JP',system-ui,sans-serif;

  /* Hero */
  --hero-scale:.94;     /* 0.90–0.98 で微調整 */
}

/* ===== Base / Reset (minimum) ===== */
*{ box-sizing:border-box; }
html,body{ margin:0; }
html,body{ -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility; }
a{ color:inherit; }

body{
  background:var(--base-black);
  color:var(--ink-light);
  font-family:var(--font-sans);
  line-height:1.8;
  letter-spacing:.02em;
}

/* Containers & Headings */
.container{ max-width:var(--maxw); margin:0 auto; padding:28px 16px; }
h1,h2,h3{ margin:0 0 12px; line-height:1.3; }
h2{ font-family:var(--font-display); color:var(--accent); font-size:clamp(22px,2.4vw,28px); }

/* ===== Header ===== */
.header{ position:sticky; top:0; z-index:20; background:var(--base-black); }
.nav{
  max-width:var(--maxw); margin:auto;
  display:flex; align-items:center; justify-content:space-between;
  padding:20px 16px;
}
.logo{ display:flex; align-items:center; gap:10px; font-weight:700; }
.logo-mark{ display:none; } /* 要望：茶色いマークは非表示 */
.brand{ font-family:var(--font-display); font-size:20px; letter-spacing:.06em; }
.header .links a{
  padding:.5rem .8rem; border-radius:12px; text-decoration:none;
  color:var(--ink-light); font-family:var(--font-display); letter-spacing:.06em;
}
.header .links a:hover{ background:rgba(255,255,255,.08); }

/* Status badge（営業中/休業中） */
.header .status{
  --gold:#bfa27a; --gold-hi:#d9c6a3; --gold-deep:#8e724f;
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 14px; border-radius:999px;
  background:linear-gradient(180deg,var(--gold-hi),var(--gold));
  color:#111; border:1px solid rgba(0,0,0,.22);
  box-shadow:0 8px 22px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.25);
  font-weight:700; letter-spacing:.02em;
  transition:filter .2s ease, transform .08s ease;
}
.header .status::before{
  content:""; width:8px; height:8px; border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #fff 0 14%, #f2e3c8 28%, var(--gold-hi) 45%, var(--gold) 62%, var(--gold-deep) 100%);
  box-shadow:0 0 8px rgba(191,162,122,.55);
}
.header .status:hover{ filter:brightness(1.04); transform:translateY(-1px); }
.header .status.is-closed{
  background:linear-gradient(180deg,#4b2e2b,#3d2422); color:var(--ink-light);
  border:1px solid rgba(0,0,0,.35); box-shadow:0 6px 18px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.12);
}
.header .status.is-closed::before{
  background:radial-gradient(circle at 30% 30%, #fff 0 10%, #ffb9ad 26%, #e67d6e 56%, #b44b3e 100%);
  box-shadow:0 0 8px rgba(230,125,110,.42);
}

/* ===== Hero Slider ===== */
.hero{ max-width:var(--hero-maxw); margin:0 auto; padding:0 16px; }
.hero-slider{ max-width:var(--hero-maxw); margin-inline:auto; overflow:hidden;
  height:clamp(360px,56vh,600px); }
.hero-track{
  display:flex; height:100%; gap:0; transition:transform .6s ease;
  transform:translateX(calc(-1 * var(--slide-index,0) * 100%));
}
.hero-slide{ position:relative; min-width:100%; height:100%; }
.hero-slide img{
  width:100%; height:100%; object-fit:cover; display:block;
  object-position:center 48%; transform:scale(var(--hero-scale));
  transform-origin:center center;
}
/* 文字が乗る下部を僅かに暗く */
.hero-slide::after{
  content:""; position:absolute; inset:0;
  background:linear-gradient(to top, rgba(0,0,0,.55) 0%, rgba(0,0,0,.25) 35%, rgba(0,0,0,0) 60%);
  pointer-events:none;
}
.hero-caption{
  position:absolute; left:clamp(12px,6vw,80px); bottom:clamp(24px,10vh,140px);
  color:var(--ink-light); background:rgba(0,0,0,.42);
  border:1px solid rgba(255,255,255,.06); border-radius:12px;
  padding:.55em .9em; font-family:var(--font-display); line-height:1.2;
  box-shadow:0 10px 28px rgba(0,0,0,.55); text-shadow:0 4px 14px rgba(0,0,0,.55);
}
/* arrows & dots（既存HTML想定） */
.hero-nav{
  position:absolute; top:50%; transform:translateY(-50%);
  border:0; background:rgba(0,0,0,.45); color:#fff;
  width:44px; height:44px; border-radius:50%; font-size:1.6rem; cursor:pointer;
  backdrop-filter:blur(2px);
}
.hero-prev{ left:clamp(6px,2vw,20px); } .hero-next{ right:clamp(6px,2vw,20px); }
.hero-nav:hover{ background:rgba(0,0,0,.6); }
.hero-dots{ position:absolute; left:50%; transform:translateX(-50%);
  bottom:clamp(8px,3vh,28px); display:flex; gap:10px; }
.hero-dots button{
  width:9px; height:9px; border-radius:50%; border:0; background:rgba(255,255,255,.45); cursor:pointer;
}
.hero-dots button[aria-selected="true"]{ background:#fff; transform:scale(1.2); }

@media (max-width:768px){
  .hero-caption{ left:50%; transform:translateX(-50%); bottom:20px; text-align:center; }
}

/* ===== Cards / Menu ===== */
.card{
  background:var(--panel); color:var(--ink-light);
  border:1px solid rgba(255,255,255,.08);
  border-radius:var(--radius);
  box-shadow:0 8px 24px rgba(0,0,0,.5);
}
.menu-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:14px; }
.menu-item img{
  width:100%; height:170px; object-fit:cover;
  border-top-left-radius:var(--radius); border-top-right-radius:var(--radius);
}
.menu-item .body{ padding:14px 16px; }
.menu-item h3{ color:var(--ink-light); font-family:var(--font-display); letter-spacing:.04em; }
.menu-item .lead{ color:rgba(242,237,231,.82); }
.price{ color:var(--accent); font-weight:700; }

/* ===== こだわり（横スナップ） ===== */
.feature-snap{ max-width:860px; margin-inline:auto; position:relative; overflow:hidden; padding:0 16px; }
.snap-track{
  display:grid; grid-auto-flow:column; grid-auto-columns:100%;
  overflow-x:auto; overflow-y:hidden; scroll-snap-type:x mandatory;
  -webkit-overflow-scrolling:touch;
}
.snap-item{
  scroll-snap-align:start; width:100%; box-sizing:border-box;
  display:grid; grid-template-columns:300px 1fr; gap:18px; align-items:center;
}
.snap-item img{ width:100%; height:220px; object-fit:cover; border-radius:12px; }
.snap-text{ max-width:46ch; }
.snap-text h3{ margin:2px 0 6px; font-family:var(--font-display); color:var(--accent); font-size:clamp(18px,2.2vw,22px); line-height:1.3; }
.snap-text .lead{ color:rgba(242,237,231,.82); line-height:1.8; }
@media (min-width:1200px){
  .feature-snap{ max-width:920px; }
  .snap-item{ grid-template-columns:320px 1fr; gap:22px; }
  .snap-item img{ height:240px; }
  .snap-text{ max-width:50ch; }
}
@media (max-width:768px){
  .snap-item{ grid-template-columns:1fr; gap:12px; }
  .snap-item img{ height:200px; }
  .snap-text{ max-width:none; }
}
/* 店主（1枚目）は上を多めに見せる */
.feature-snap .snap-track > .snap-item:nth-of-type(1) img{ object-position:50% 15%; }
@media (max-width:768px){
  .feature-snap .snap-track > .snap-item:nth-of-type(1) img{ object-position:50% 12%; }
}

/* ===== Access（地図＋アクセス情報：シンプル） ===== */
.access-grid.access-compact{
  display:grid;
  grid-template-columns:minmax(360px,0.8fr) fit-content(520px);
  align-items:stretch;
  column-gap:clamp(32px,6vw,96px);
  row-gap:16px;
}
.mapwrap{ position:relative; }
.map-embed{ width:100%; aspect-ratio:16/10; border:0; border-radius:0; box-shadow:none; background:transparent; }
.access-card{ padding:0; max-width:520px; justify-self:end; display:flex; flex-direction:column; background:transparent; border:none; box-shadow:none; }

.access-title{ margin:0 0 10px; font-family:var(--font-display); color:var(--accent); letter-spacing:.04em; }

/* 定義リスト（住所/最寄り/電話ほか） */
.info-list{
  display:grid; grid-template-columns:6.2em 1fr;
  column-gap:12px; row-gap:10px; margin:6px 0 10px;
}
.info-list dt{ white-space:nowrap; color:var(--accent); font-family:var(--font-display); letter-spacing:.04em; }
.info-list dd{ margin:0; color:var(--ink-light); line-height:1.8; }
.info-list a{ text-decoration:none; border-bottom:1px dotted rgba(255,255,255,.25); }

/* 要望：住所/最寄り/電話は白で強調（data-i があれば優先） */
.info-list dt[data-i="pin"], .info-list dt[data-i="train"], .info-list dt[data-i="tel"]{ color:var(--ink-light); }
.info-list dt[data-i="pin"]+dd, .info-list dt[data-i="train"]+dd, .info-list dt[data-i="tel"]+dd{ color:var(--ink-light); }
.info-list dt[data-i="tel"]+dd a{ color:var(--ink-light); border-bottom-color:rgba(255,255,255,.35); }
/* data-i が無い場合のフォールバック（1=住所,2=最寄り,3=電話の順前提） */
.info-list dt:nth-of-type(1), .info-list dt:nth-of-type(2), .info-list dt:nth-of-type(3){ color:var(--ink-light); }
.info-list dt:nth-of-type(1)+dd, .info-list dt:nth-of-type(2)+dd, .info-list dt:nth-of-type(3)+dd{ color:var(--ink-light); }
.info-list dt:nth-of-type(3)+dd a{ color:var(--ink-light); border-bottom-color:rgba(255,255,255,.35); }

/* 営業情報（装飾なしのテキストだけ） */
.hours-box{ margin-top:8px; }
.hours-box h4{ margin:0 0 4px; font-family:var(--font-display); color:var(--accent); letter-spacing:.04em; }
.hours-box p{ margin:2px 0 6px; }

/* モバイル：縦積み */
@media (max-width:920px){
  .access-grid.access-compact{ grid-template-columns:1fr; }
}

/* ===== Footer ===== */
footer{ margin-top:36px; padding:26px 16px; background:var(--base-black); color:rgba(255,255,255,.75); }
.sns{ display:flex; gap:10px; flex-wrap:wrap; }
.sns a{ text-decoration:none; background:#2a2a2a; color:#eadfce; padding:6px 10px; border-radius:10px; }

/* ===== A11y / Nice polish ===== */
:where(a,button,.btn):focus-visible{ outline:2px solid rgba(255,255,255,.55); outline-offset:2px; }
:where(h2,h3,#access){ scroll-margin-top:84px; }
:where(a){ text-underline-offset:3px; text-decoration-thickness:.06em; }
@media (prefers-reduced-motion: reduce){
  *{ animation-duration:.01ms !important; animation-iteration-count:1 !important; transition-duration:.01ms !important; scroll-behavior:auto !important; }
}
/* === お店について：矢印をカード両端に固定 === */
.card.feature-snap{ 
  position: relative;            /* 絶対配置の基準 */
  padding-inline: 0;             /* 内側余白で寄って見えるのを回避（任意） */
}

/* 矢印の共通スタイル（位置以外） */
.card.feature-snap .snap-arrow{
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 40px; height: 40px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.45);
  color: #fff;
  display: grid; place-items: center;
  cursor: pointer;
  z-index: 5;
  backdrop-filter: blur(2px);
}

/* 左右の“端”に寄せる（left/right を明示し、逆側は auto で打ち消す） */
.card.feature-snap .snap-arrow.prev{
  left: clamp(6px, 1.2vw, 14px) !important;
  right: auto !important;
}
.card.feature-snap .snap-arrow.next{
  right: clamp(6px, 1.2vw, 14px) !important;
  left:  auto !important;
}

.card.feature-snap .snap-arrow:hover{ background: rgba(0,0,0,.6); }

/* モバイルはスワイプ優先で非表示（必要なら） */
@media (max-width: 768px){
  .card.feature-snap .snap-arrow{ display: none; }
}
/* ===== Layout Baseline (共通レール＆余白) ===== */
:root{
  --container-pad: clamp(16px, 4vw, 24px);      /* 画面端からの左右余白 */
  --section-gap: clamp(28px, 6vw, 80px);        /* セクション間の縦余白 */
  --block-gap: clamp(12px, 3vw, 28px);          /* セクション内の要素間余白 */

  /* レール：画面中央のコンテンツ枠の“左端/右端”に相当 */
  --rail: max(
    var(--container-pad),
    calc((100vw - var(--maxw)) / 2 + var(--container-pad))
  );
}

/* すべてのセクションの左右＆縦リズムを統一 */
.container{
  max-width: var(--maxw);
  margin-inline: auto;
  padding-inline: var(--container-pad);
  margin-block: var(--section-gap);
}
/* ヒーローも同じリズムで区切る */
.hero-slider{ margin-block: var(--section-gap) !important; }
/* ヒーローのキャプション位置を左レールに揃える */
.hero-caption{
  left: var(--rail) !important;
  right: auto !important;
}

/* 矢印も左右レールに（好みでON） */
.hero-prev{  left:  var(--rail) !important; right: auto !important; }
.hero-next{  right: var(--rail) !important; left:  auto !important; }

/* ドットを“中寄せ”にしつつ、左右の端はレールと整合（任意） */
.hero-dots{ left: 50%; transform: translateX(-50%); }

/* 両端にしっかり“レール合わせ” */
.card.feature-snap{ position: relative; padding-inline: 0; }
.card.feature-snap .snap-arrow.prev{  left:  var(--rail) !important; right:auto !important; }
.card.feature-snap .snap-arrow.next{  right: var(--rail) !important; left: auto !important; }

/* アクセス：左右の間隔を共通の block-gap でコントロール */
.access-grid.access-compact{
  column-gap: clamp(24px, 4vw, 48px) !important; /* or var(--block-gap) でもOK */
  row-gap: var(--block-gap) !important;
}

/* 右カードの左右位置が窮屈なら、見た目だけ少し外側へ（任意） */
.access-card{ margin-left: clamp(8px, 2vw, 20px); }


/* === お店について（feature-snap）：矢印をカード外へ === */
.card.feature-snap{
  position: relative;
  overflow: visible;                 /* はみ出しを切らない */
  --arrow-size: 44px;                /* 矢印ボタンの大きさ */
  --arrow-overhang: clamp(24px, 7vw, 200px);  /* どれだけ外へ出すか */
}

.card.feature-snap .snap-arrow{
  position: absolute;
  top: 50%;
  width: var(--arrow-size);
  height: var(--arrow-size);
  transform: translateY(-50%);       /* 縦だけ中央（後で上書き） */
  z-index: 5;
}

/* 左矢印：カード左端から “半分＋はみ出し” 外側へ */
.card.feature-snap .snap-arrow.prev{
  left: 0;
  transform: translate(calc(-50% - var(--arrow-overhang)), -50%);
}

/* 右矢印：カード右端から “半分＋はみ出し” 外側へ */
.card.feature-snap .snap-arrow.next{
  right: 0;
  transform: translate(calc(50% + var(--arrow-overhang)), -50%);
}

/* 任意：ホバー演出など（お好みで） */
.card.feature-snap .snap-arrow:hover{ filter: brightness(1.1); }
@media (max-width: 768px){
  .card.feature-snap .snap-arrow{ display:none; } /* モバイルはスワイプ優先なら */
}

/* === Access セクションを右寄せに === */

/* 1) グリッド全体（地図＋店舗情報の塊）を右に寄せる */
#access .access-grid{
  max-width: 950px;        /* 好みで 860〜1080px に調整可 */
  margin-left: auto;       /* ← これでコンテナ内の右端へ寄る */
}

/* 既に右カードを右寄せしたい時の保険（重複OK） */
#access .access-card{
  justify-self: end;
}

/* モバイルは自然な並びに戻す */
@media (max-width: 920px){
  #access .access-grid{
    max-width: none;
    margin-left: 0;
  }
  #access > h2{
    margin: 0 0 12px 0;
  }
}

/* ==== メニューカード：タイトル行数＆説明行数をそろえる ==== */
:root{
  --menu-title-lines: 2;   /* 見出しは2行で統一（必要なら3に） */
  --menu-desc-lines:  2;   /* 説明文の行数も統一（2〜3推奨） */
}

/* カード本文を縦レイアウトにして価格を最下部へ */
.menu-item .body{
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* 見出し：2行分の高さを確保＋超えたら省略 */
.menu-item .body h3{
  line-height: 1.3;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: var(--menu-title-lines);
  overflow: hidden;
  min-block-size: calc(1em * 1.3 * var(--menu-title-lines));
  /* ↑ 1行だけの見出しでも“2行ぶんの枠”を確保して高さを合わせる */
}

/* 説明文：同じ行数で高さをそろえる */
.menu-item .lead{
  line-height: 1.7;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: var(--menu-desc-lines);
  overflow: hidden;
  min-block-size: calc(1em * 1.7 * var(--menu-desc-lines));
}

/* 価格は常に一番下に来るように */
.menu-item .price{
  margin-top: auto;
}

/* 画面が狭い時は行数を1つ増やして窮屈さ回避（任意） */
@media (max-width: 560px){
  :root{
    --menu-title-lines: 3;
    --menu-desc-lines:  3;
  }
}

/* === メニュー：見出しと説明文の間を詰める === */
.menu-item .body{
  display: flex;
  flex-direction: column;
  gap: 4px; /* ← もっと詰めたいなら 2px / 0 に */
}

.menu-item .body h3{
  margin: 0 !important;   /* ← HTMLの inline margin を無効化 */
  line-height: 1.25;      /* タイトに（任意） */
}

.menu-item .body .lead{
  margin: 0;              /* p の既定上下マージンを消す */
  line-height: 1.6;       /* 読みやすさを保ちつつ少しだけタイトに */
}
